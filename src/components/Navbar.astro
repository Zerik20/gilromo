<nav
  id="navbar"
  class="fixed top-0 left-0 w-full z-50 transition-all duration-300 backdrop-blur-none bg-transparent font-heavy"
>
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <a href="/" class="flex items-center space-x-4 rtl:space-x-reverse group">
      <img src="/Logo.svg" alt="Logo GilRomo" class="h-10 w-auto drop-shadow-[0_0_4px_rgba(255,0,128,0.4)]" />
      <span class="self-center text-2xl font-heavy whitespace-nowrap text-primary-600 dark:text-white drop-shadow-[0_0_6px_rgba(255,0,128,0.5)]"></span>
    </a>

    <!-- Toggle -->
    <button
      data-collapse-toggle="navbar-multi-level"
      type="button"
      class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-300 rounded-lg md:hidden hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/20"
      aria-controls="navbar-multi-level"
      aria-expanded="false"
    >
      <span class="sr-only">Abrir menú</span>
      <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"></path>
      </svg>
    </button>

    <!-- Menú -->
    <div id="navbar-multi-level" class="hidden w-full md:flex md:w-auto items-center justify-end md:space-x-4">
      <ul
        class="flex flex-col md:flex-row font-heavy
               p-4 md:p-0 mt-4 md:mt-0
               space-y-2 md:space-y-0 md:space-x-8 rtl:space-x-reverse
               rounded-lg md:rounded-none
               border border-white/10 md:border-0
               bg-black md:bg-transparent dark:bg-black md:dark:bg-transparent
               shadow-lg md:shadow-none transition-all duration-300"
      >
        <!-- Orden final y IDs que debes usar en tus secciones -->
        <li><a href="#por-que"   class="block py-2 px-3 text-white hover:text-gold-300 md:p-0">¿Por qué?</a></li>
        <li><a href="#sobre-mi"  class="block py-2 px-3 text-white hover:text-gold-300 md:p-0">Sobre mí</a></li>
        <li><a href="#ponentes"  class="block py-2 px-3 text-white hover:text-gold-300 md:p-0">Ponentes</a></li>
        <li><a href="#programa"  class="block py-2 px-3 text-white hover:text-gold-300 md:p-0">Programa</a></li>
        <li><a href="#contacto"  class="block py-2 px-3 text-white md:text-gold-200 md:hover:text-gold-100 md:p-0">Contacto</a></li>
      </ul>
    </div>
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.getElementById("navbar");
    const toggleButton = document.querySelector('[data-collapse-toggle="navbar-multi-level"]');
    const menu = document.getElementById("navbar-multi-level");

    if (!navbar) return;

    // Fondo/blur al hacer scroll
    const applyScrollStyles = () => {
      if (window.scrollY > 0) {
        navbar.classList.remove("backdrop-blur-none", "bg-transparent");
        navbar.classList.add("backdrop-blur-sm", "bg-black/60", "shadow-md");
      } else {
        navbar.classList.add("backdrop-blur-none", "bg-transparent");
        navbar.classList.remove("backdrop-blur-sm", "bg-black/60", "shadow-md");
      }
    };
    applyScrollStyles();
    window.addEventListener("scroll", applyScrollStyles, { passive: true });

    // Helpers menú móvil (null-safe)
    const openMenu = () => {
      if (!menu || !toggleButton) return;
      menu.classList.remove("hidden");
      document.body.style.overflow = "hidden";
      toggleButton.setAttribute("aria-expanded", "true");
    };
    const closeMenu = () => {
      if (!menu || !toggleButton) return;
      menu.classList.add("hidden");
      document.body.style.overflow = "";
      toggleButton.setAttribute("aria-expanded", "false");
    };

    toggleButton && toggleButton.addEventListener("click", () => {
      if (!menu) return;
      const isOpen = !menu.classList.contains("hidden");
      isOpen ? closeMenu() : openMenu();
    });

    // Cerrar al hacer click en un enlace + resaltar activo
    const links = menu ? Array.from(menu.querySelectorAll('a[href^="#"]')) : [];
    links.forEach((link) => {
      link.addEventListener("click", () => {
        if (window.innerWidth < 768) closeMenu();
        links.forEach((l) => l.classList.remove("font-bold", "text-gold-300"));
        link.classList.add("font-bold", "text-gold-300");
      });
    });
  });
</script>
